:root {
  --bg: #070b18;
  --card: #0e1631;
  --text: #eef2ff;
  --muted: #a5b4fc;
  --accent: #4da3ff;
  --accent-2: #2bd4bd;
  --danger: #ff6b6b;
  --ok: #22c55e;
  --border: #1f2a4a;
  --btn-bg: #13204a;
  --btn-bg-hover: #1a2a5e;
  --focus: #ffd166;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0; padding: 16px;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 800px at 80% -10%, #18265c, transparent 60%),
    radial-gradient(1000px 600px at -10% 110%, #0f3a49, transparent 60%),
    linear-gradient(160deg, #060a1a 0%, #090f22 50%, #060a18 100%);
}

.app-header { margin: 4px 0 8px; }
.brand { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.logo { width: 140px; height: 36px; flex: 0 0 auto; filter: drop-shadow(0 4px 10px rgba(0,0,0,.35)); }
.logo.partner { width: 40px; height: 40px; }
.title-wrap { text-align: center; flex: 1; }
h1 { margin: 0; font-size: 1.6rem; letter-spacing: .3px; }
.subtitle { margin: 4px 0 0; color: var(--muted); }

.container { max-width: 860px; margin: 0 auto; display: grid; gap: 16px; }
.controls, .result, .history, .preview, .help {
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  border-radius: 12px; padding: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,.28), inset 0 1px 0 rgba(255,255,255,.05);
}

.controls { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
select, .btn, .toggle { border-radius: 10px; border: 1px solid var(--border); height: 40px; }

.btn {
  background: var(--btn-bg); color: var(--text);
  padding: 0 14px; cursor: pointer;
  transition: transform .06s ease, background .2s ease, box-shadow .2s ease;
  display: inline-flex; align-items: center; gap: 8px;
  box-shadow: 0 2px 0 rgba(0,0,0,.25);
}
.btn:hover { background: var(--btn-bg-hover); transform: translateY(-1px); }
.btn:active { transform: translateY(1px); }
.btn[disabled] { opacity: .5; cursor: not-allowed; }
.btn.primary { background: linear-gradient(180deg, #2c74ff, #144bdb); border-color: #1a46c2; }
.btn.primary:hover { background: linear-gradient(180deg, #3b81ff, #1b56ee); }

.toggle { display: inline-flex; align-items: center; gap: 6px; padding: 0 10px; background: var(--card); }
.toggle input { accent-color: var(--accent); }

.preview .video-wrap {
  position: relative; margin: 0 auto; max-width: 460px; aspect-ratio: 3 / 4;
  border-radius: 14px; overflow: hidden; border: 1px solid var(--border);
  background: #000;
}
video { width: 100%; height: 100%; object-fit: cover; display: block; }

.overlay { position: absolute; inset: 0; pointer-events: none; }
.finder {
  position: absolute; inset: 12% 12% 12% 12%;
  border: 2px solid rgba(255,255,255,.7); border-radius: 12px;
  box-shadow: 0 0 0 9999px rgba(0,0,0,.45) inset;
}
.scanline {
  position: absolute; left: 14%; right: 14%; height: 2px; top: 14%;
  background: linear-gradient(90deg, transparent, rgba(77,163,255,.9), transparent);
  animation: scan 2.4s linear infinite;
  filter: drop-shadow(0 0 8px rgba(77,163,255,.85));
}
@keyframes scan { 0% { top: 14%; } 100% { top: 86%; } }

#status { text-align: center; color: var(--muted); margin: 8px 0 0; }

.result h2, .history h2 { margin: 6px 0 10px; font-size: 1.1rem; }
.result output {
  display: block; min-height: 2.2em; padding: 10px;
  background: var(--card); border: 1px solid var(--border); border-radius: 8px;
  word-break: break-word;
}
.result-actions { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }

.history-actions { display: flex; gap: 8px; margin-top: 8px; }
#history { list-style: none; padding: 0; margin: 0; display: grid; gap: 6px; }
#history li { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 8px; display: grid; gap: 6px; }
.history-row { display: flex; align-items: center; gap: 8px; justify-content: space-between; }
.code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; word-break: break-word; }
.badge { padding: 2px 8px; border-radius: 999px; font-size: .75rem; background: #162044; color: var(--accent-2); border: 1px solid #25406d; }
.item-actions { display: flex; gap: 6px; }

.help { color: var(--muted); }
.app-footer { margin-top: 12px; color: var(--muted); text-align: center; }

.sr-only { position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
:focus-visible { outline: 2px dashed var(--focus); outline-offset: 2px; }
